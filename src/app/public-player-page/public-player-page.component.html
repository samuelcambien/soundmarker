<app-public-page
  [message]="message"
  [expiry_date]="expiry_date"
  [sender]="sender"
  [project_id]="project_id"
  [error]="error"
  (tryAgain)="backToHome()"
  xmlns="http://www.w3.org/1999/html">

  <app-page-not-found *ngIf="!exists" ></app-page-not-found>

  <app-project-expired *ngIf="expired && commentsExpired"></app-project-expired>

  <div *ngIf="exists && !(expired && commentsExpired)">

    <div class="list-container" [ngbCollapse]="activeTrack != null">

      <div *ngFor="let track of project?.tracks; let last = last;">

        <app-public-player-track
          [track]="track"
          (selected)="selectTrack(track)"
        >
        </app-public-player-track>

        <hr *ngIf="track != last">

      </div>
    </div>

    <app-public-track-player
      *ngFor="let track of project?.tracks"
      [track]="track"
      [enableOverview]="project.tracks.length > 1"
      [ngbCollapse]="activeTrack != track"
      [expired]="expired && !commentsExpired"
      (overview)="activeTrack = null;"
      (error)="error = $event"
    >
    </app-public-track-player>

  </div>

</app-public-page>
